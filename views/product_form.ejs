<%- include('../views/header.ejs') %>

<h2>Write a new product</h2>
<form method="post" role="form">
  <div class="form-row">
    <div class="form-item">
      <label>Name</label>
      <input type="text" name="name" placeholder='Name of product' required value="<%= undefined === product ? '' : product.name %>">
    </div>
    <div class="form-item">
      <label>Category :</label>
      <% categories.forEach(category => { %>
        <% if (category.checked) { %>
          <label for="<%= category._id %>">&nbsp; <%= category.name %></label>
          <input type="checkbox" name="category" id="<%= category._id %>" value="<%= category._id %>" checked>
          
        <% } else { %>
          <label for="<%= category._id %>">&nbsp; <%= category.name %></label>
          <input type="checkbox" name="category" id="<%= category._id %>" value="<%= category._id %>">
          
        <% } %>
      <% }) %>
    </div>
  </div>
  
  <div class="form-row">
    <div class="form-item">
      <label>Price</label>
      <input type="number" name="price" min="0" value="<%= product.price %>">
    </div>
    <div class="form-item">
      <label>numberInStock</label>
      <input type="number" name="numberInStock" min="0" value="<%= product.numberInStock %>">
    </div>
  </div>
  
  <div class="form-row">
    <div class="form-item">
      <label>Description</label>
      <textarea name="description" placeholder="Write about trek" value="<%= undefined === product ? '' : product.name %>"></textarea>
    </div>
  </div>
  
  <div class="form-group">
    <input type="submit" value="Post product" class="btn btn-primary">
  </div>
</form>

<%- include('../views/footer.ejs') %>
